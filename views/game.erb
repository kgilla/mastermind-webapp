<div class="left_half">
  <nav class="main_nav">
    <ul class="nav_list">
      <li class="nav_item">
        <a href="/" class="nav_title">Title Screen</a>
      </li>
      <li class="nav_item">
        <a href="/new_game" class="nav_title">New Game</a>
      </li>
      <li class="nav_item">
        <a href="/multi" class="nav_title">New Multiplayer Game</a>
      </li>
    </ul>
  </nav>
  <div class="left_box">
    
    <div class="game_info">
      <h2> Round # <%= GAME.round_count%> </h2><br/>
      <h2><%= GAME.message %></h2>
    </div>
    
    <form class="game_form" method='POST' action='/game'>
    <% (0..3).each do |i| %>
      <select class="user_color" name="user_color_<%= i %>">
        <% GAME.colors.each_pair do |k, v|%>
          <% if session[:guess_list] == [] %>
            <option value=<%= v %>><%= k %></option>
          <% elsif session[:guess_list].last[i] == v %>
            <option value=<%= v %> selected="selected" ><%= k %></option>
          <% else %>
            <option value=<%=v %>><%= k %></option>
          <% end %>
        <% end %>
      </select> 
    <% end %><br/>
    <input class="round_submit" type="submit" value="Guess!" href="/game"/>  
    </form>

    <div class="game_rules">
      <h2>Rules</h2>
      <ul>
        <li>Each round the player must guess 4 colors</li>
        <li>The pegs on the right give feedback based on your guess:</li>
        <li>A red peg is a correct color in the correct position</li>
        <li>A white pegs is a correct color in an incorrect position</li>
        <li>There can be duplicate colors</li>
        <li>Have fun!</li>
      </ul>
    </div>
  </div>
</div>

<div class="right_half">
  
  <div class="game_board">
    <%(11).downto(0).each do |r| %>
      <div class="round_pegs">
        <%(0).upto(3).each do |i| %>
          
          <% if !session[:guess_list][r].nil? %>
          <div class="colored_peg" 
          style="background-color:<%= session[:guess_list][r][i]%>"></div>
          <% else %> 
          <div class="colored_peg" style="background-color: black"></div>
          <% end %>

        <% end %> 
      </div>
    <% end %>
  </div>
  
  <div class="game_board_key">
    <%(11).downto(0).each do |r| %>
      <div class="round_keys">
        <%(0).upto(3).each do |i| %>
          
          <% if !session[:key_list][r].nil? %>
          <div class="key_peg" 
          style="background-color: <%= session[:key_list][r][i]%>"></div>
          <% else %> 
          <div class="key_peg" style="background-color: black"></div>
          <% end %>
        
        <% end %> 
      </div>
    <% end %>
  </div>
</div>


